<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `State` struct in crate `luajit`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, State">

    <title>luajit::state::State - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct State</p><div class="block items"><ul><li><a href="#methods">Methods</a></li><li><a href="#implementations">Trait Implementations</a></li></ul></div><p class='location'><a href='../index.html'>luajit</a>::<wbr><a href='index.html'>state</a></p><script>window.sidebarCurrent = {name: 'State', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>luajit</a>::<wbr><a href='index.html'>state</a>::<wbr><a class="struct" href=''>State</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/luajit/state.rs.html#36-39' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct State { /* fields omitted */ }</pre>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl <a class="struct" href="../../luajit/state/struct.State.html" title="struct luajit::state::State">State</a></code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#41-672' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>pub fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../../luajit/state/struct.State.html" title="struct luajit::state::State">State</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#43-50' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Calls LUA C API to instantiate a new Lua state.</p>
</div><h4 id='method.from_ptr' class="method"><span id='from_ptr.v' class='invisible'><code>pub fn <a href='#method.from_ptr' class='fnname'>from_ptr</a>(state: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="type" href="../../luajit/ffi/lua/type.lua_State.html" title="type luajit::ffi::lua::lua_State">lua_State</a>) -&gt; <a class="struct" href="../../luajit/state/struct.State.html" title="struct luajit::state::State">State</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#54-59' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Wraps an existing Lua state. Suitable for use in function handlers
passed to Lua through the C API.</p>
</div><h4 id='method.open_libs' class="method"><span id='open_libs.v' class='invisible'><code>pub fn <a href='#method.open_libs' class='fnname'>open_libs</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#65-69' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua standard library on this state.</p>

<p>You can use the other <code>open_*</code> methods to fine tune
what library functions should be available to Lua scripts.</p>
</div><h4 id='method.open_base' class="method"><span id='open_base.v' class='invisible'><code>pub fn <a href='#method.open_base' class='fnname'>open_base</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#72-76' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua basic library on this state.</p>
</div><h4 id='method.open_math' class="method"><span id='open_math.v' class='invisible'><code>pub fn <a href='#method.open_math' class='fnname'>open_math</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#79-83' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua math library on this state.</p>
</div><h4 id='method.open_string' class="method"><span id='open_string.v' class='invisible'><code>pub fn <a href='#method.open_string' class='fnname'>open_string</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#86-90' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua string library on this state.</p>
</div><h4 id='method.open_table' class="method"><span id='open_table.v' class='invisible'><code>pub fn <a href='#method.open_table' class='fnname'>open_table</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#93-97' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua table library on this state.</p>
</div><h4 id='method.open_io' class="method"><span id='open_io.v' class='invisible'><code>pub fn <a href='#method.open_io' class='fnname'>open_io</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#100-104' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua io library on this state.</p>
</div><h4 id='method.open_os' class="method"><span id='open_os.v' class='invisible'><code>pub fn <a href='#method.open_os' class='fnname'>open_os</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#107-111' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua os library on this state.</p>
</div><h4 id='method.open_package' class="method"><span id='open_package.v' class='invisible'><code>pub fn <a href='#method.open_package' class='fnname'>open_package</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#114-118' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua package library on this state.</p>
</div><h4 id='method.open_debug' class="method"><span id='open_debug.v' class='invisible'><code>pub fn <a href='#method.open_debug' class='fnname'>open_debug</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#121-125' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua debug library on this state.</p>
</div><h4 id='method.open_bit' class="method"><span id='open_bit.v' class='invisible'><code>pub fn <a href='#method.open_bit' class='fnname'>open_bit</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#128-132' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua bit library on this state.</p>
</div><h4 id='method.open_jit' class="method"><span id='open_jit.v' class='invisible'><code>pub fn <a href='#method.open_jit' class='fnname'>open_jit</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#135-139' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the LuaJIT JIT library on this state.</p>
</div><h4 id='method.open_ffi' class="method"><span id='open_ffi.v' class='invisible'><code>pub fn <a href='#method.open_ffi' class='fnname'>open_ffi</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#142-146' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Opens the Lua FFI library on this state.</p>
</div><h4 id='method.settop' class="method"><span id='settop.v' class='invisible'><code>pub fn <a href='#method.settop' class='fnname'>settop</a>(&amp;mut self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#149-153' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the top of the stack to the valid index <code>idx</code></p>
</div><h4 id='method.pop' class="method"><span id='pop.v' class='invisible'><code>pub fn <a href='#method.pop' class='fnname'>pop</a>(&amp;mut self, n: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#156-160' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Pops a value from the top of the stack</p>
</div><h4 id='method.do_string' class="method"><span id='do_string.v' class='invisible'><code>pub fn <a href='#method.do_string' class='fnname'>do_string</a>(&amp;mut self, s: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="../../luajit/state/enum.ThreadStatus.html" title="enum luajit::state::ThreadStatus">ThreadStatus</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#175-180' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Executes an arbitrary string as Lua code.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">luajit</span>::{<span class="ident">State</span>, <span class="ident">ThreadStatus</span>};
 
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">new</span>(); <span class="comment">// Create new Lua state</span>
<span class="ident">state</span>.<span class="ident">open_base</span>(); <span class="comment">// Need to open base libraries for `print` to be available</span>
 
<span class="kw">let</span> <span class="ident">status</span> <span class="op">=</span> <span class="ident">state</span>.<span class="ident">do_string</span>(<span class="string">r#&quot;print(&quot;Hello world!&quot;)&quot;#</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">status</span> <span class="op">==</span> <span class="ident">ThreadStatus</span>::<span class="prelude-val">Ok</span>);</pre>
</div><h4 id='method.call' class="method"><span id='call.v' class='invisible'><code>pub fn <a href='#method.call' class='fnname'>call</a>(&amp;mut self, nargs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, nres: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#184-188' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Maps to <code>lua_call</code>, calls the function on the top of the
stack. </p>
</div><h4 id='method.pcall' class="method"><span id='pcall.v' class='invisible'><code>pub fn <a href='#method.pcall' class='fnname'>pcall</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;nargs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;nres: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;err_func: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="enum" href="../../luajit/state/enum.ThreadStatus.html" title="enum luajit::state::ThreadStatus">ThreadStatus</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#192-202' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Maps to <code>lua_pcall</code> and automatically catches an error, returning
the string on the top of the stack as an <code>Err</code> result.</p>
</div><h4 id='method.pcallx' class="method"><span id='pcallx.v' class='invisible'><code>pub fn <a href='#method.pcallx' class='fnname'>pcallx</a>(&amp;mut self, nargs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, nres: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, err_func: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="enum" href="../../luajit/state/enum.ThreadStatus.html" title="enum luajit::state::ThreadStatus">ThreadStatus</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#205-209' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Maps directly to <code>lua_pcall</code> without additional handling.</p>
</div><h4 id='method.register' class="method"><span id='register.v' class='invisible'><code>pub fn <a href='#method.register' class='fnname'>register</a>(&amp;mut self, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, f: <a class="type" href="../../luajit/types/type.LuaFunction.html" title="type luajit::types::LuaFunction">LuaFunction</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#254-259' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Registers function <code>f</code> as a Lua global named <code>name</code></p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">luajit</span>::{<span class="ident">State</span>, <span class="ident">ThreadStatus</span>, <span class="ident">c_int</span>};
<span class="kw">use</span> <span class="ident">luajit</span>::<span class="ident">ffi</span>::<span class="ident">lua_State</span>;
 
<span class="kw">unsafe</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span> <span class="ident">hello</span>(<span class="ident">L</span>: <span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">lua_State</span>) <span class="op">-&gt;</span> <span class="ident">c_int</span> {
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Hello world!&quot;</span>);
 
    <span class="number">0</span>
}
 
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">new</span>();
<span class="ident">state</span>.<span class="ident">register</span>(<span class="string">&quot;hello&quot;</span>, <span class="ident">hello</span>);
 
<span class="kw">let</span> <span class="ident">status</span> <span class="op">=</span> <span class="ident">state</span>.<span class="ident">do_string</span>(<span class="string">&quot;hello()&quot;</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">status</span> <span class="op">==</span> <span class="ident">ThreadStatus</span>::<span class="prelude-val">Ok</span>);</pre>

<p>Using an argument.</p>

<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">luajit</span>::{<span class="ident">State</span>, <span class="ident">ThreadStatus</span>, <span class="ident">c_int</span>};
<span class="kw">use</span> <span class="ident">luajit</span>::<span class="ident">ffi</span>::<span class="ident">lua_State</span>;
 
<span class="kw">unsafe</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span> <span class="ident">hello_name</span>(<span class="ident">l</span>: <span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">lua_State</span>) <span class="op">-&gt;</span> <span class="ident">c_int</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">from_ptr</span>(<span class="ident">l</span>);
    <span class="kw">match</span> <span class="ident">state</span>.<span class="ident">to_str</span>(<span class="number">1</span>) {
        <span class="prelude-val">Some</span>(<span class="ident">s</span>) <span class="op">=&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Hello {}&quot;</span>, <span class="ident">s</span>),
        <span class="prelude-val">None</span> <span class="op">=&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;You have no name!&quot;</span>),
    }
 
    <span class="number">0</span>
}
 
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">new</span>();
<span class="ident">state</span>.<span class="ident">register</span>(<span class="string">&quot;hello&quot;</span>, <span class="ident">hello_name</span>);
 
<span class="kw">let</span> <span class="ident">status</span> <span class="op">=</span> <span class="ident">state</span>.<span class="ident">do_string</span>(<span class="string">r#&quot;hello(&quot;world!&quot;)&quot;#</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">status</span> <span class="op">==</span> <span class="ident">ThreadStatus</span>::<span class="prelude-val">Ok</span>);</pre>
</div><h4 id='method.is_number' class="method"><span id='is_number.v' class='invisible'><code>pub fn <a href='#method.is_number' class='fnname'>is_number</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#262-266' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Test if the value at <code>idx</code> on the stack is a number.</p>
</div><h4 id='method.is_string' class="method"><span id='is_string.v' class='invisible'><code>pub fn <a href='#method.is_string' class='fnname'>is_string</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#269-273' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Test if the value at <code>idx</code> on the stack is a string.</p>
</div><h4 id='method.is_bool' class="method"><span id='is_bool.v' class='invisible'><code>pub fn <a href='#method.is_bool' class='fnname'>is_bool</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#276-280' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Test if the value at <code>idx</code> on the stack is a boolean.</p>
</div><h4 id='method.is_userdata' class="method"><span id='is_userdata.v' class='invisible'><code>pub fn <a href='#method.is_userdata' class='fnname'>is_userdata</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#283-287' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Test if the value at <code>idx</code> on the stack is a userdata object</p>
</div><h4 id='method.to_str' class="method"><span id='to_str.v' class='invisible'><code>pub fn <a href='#method.to_str' class='fnname'>to_str</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#290-307' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Retrieves a string from the Lua stack.</p>
</div><h4 id='method.to_int' class="method"><span id='to_int.v' class='invisible'><code>pub fn <a href='#method.to_int' class='fnname'>to_int</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#310-318' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the value on the stack at <code>idx</code> as an integer.</p>
</div><h4 id='method.to_long' class="method"><span id='to_long.v' class='invisible'><code>pub fn <a href='#method.to_long' class='fnname'>to_long</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#321-329' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the value on the stack at <code>idx</code> as an integer.</p>
</div><h4 id='method.to_bool' class="method"><span id='to_bool.v' class='invisible'><code>pub fn <a href='#method.to_bool' class='fnname'>to_bool</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#332-340' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the value on the stack at <code>idx</code> as an bool.</p>
</div><h4 id='method.to_float' class="method"><span id='to_float.v' class='invisible'><code>pub fn <a href='#method.to_float' class='fnname'>to_float</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#343-351' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the value on the stack at <code>idx</code> as an float.</p>
</div><h4 id='method.to_double' class="method"><span id='to_double.v' class='invisible'><code>pub fn <a href='#method.to_double' class='fnname'>to_double</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#354-362' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Return the value on the stack at <code>idx</code> as an double.</p>
</div><h4 id='method.to_raw_userdata' class="method"><span id='to_raw_userdata.v' class='invisible'><code>pub fn <a href='#method.to_raw_userdata' class='fnname'>to_raw_userdata</a>(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="enum" href="../../libc/enum.c_void.html" title="enum libc::c_void">c_void</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#365-373' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the userdata on the top of the Lua stack as a raw pointer</p>
</div><h4 id='method.to_userdata' class="method"><span id='to_userdata.v' class='invisible'><code>pub fn <a href='#method.to_userdata' class='fnname'>to_userdata</a>&lt;T&gt;(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut T</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#379-381' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the userdata from the top of the Lua stack, cast as a pointer
to type <code>T</code></p>

<p>See <a href="#method.new_userdata"><code>new_userdata</code></a> for more usage.</p>
</div><h4 id='method.check_userdata_ex' class="method"><span id='check_userdata_ex.v' class='invisible'><code>pub fn <a href='#method.check_userdata_ex' class='fnname'>check_userdata_ex</a>&lt;T&gt;(&amp;mut self, idx: <a class="type" href="../../luajit/type.c_int.html" title="type luajit::c_int">c_int</a>, ty: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut T</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#385-395' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Validates that the userdata at <code>idx</code> has metatable <code>ty</code> from the Lua registry
and returns a pointer to the userdata object</p>
</div><h4 id='method.check_userdata' class="method"><span id='check_userdata.v' class='invisible'><code>pub fn <a href='#method.check_userdata' class='fnname'>check_userdata</a>&lt;T&gt;(&amp;mut self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut T</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../../luajit/types/trait.LuaObject.html" title="trait luajit::types::LuaObject">LuaObject</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#399-409' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Validates that the userdata at <code>idx</code> is an instance of struct <code>T</code> where
<code>T</code> implements <code>LuaObject</code>, and returns a pointer to the userdata object</p>
</div><h4 id='method.set_global' class="method"><span id='set_global.v' class='invisible'><code>pub fn <a href='#method.set_global' class='fnname'>set_global</a>(&amp;mut self, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#413-417' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Pops a value of the Lua stack and sets it as a global value
named <code>name</code></p>
</div><h4 id='method.set_field' class="method"><span id='set_field.v' class='invisible'><code>pub fn <a href='#method.set_field' class='fnname'>set_field</a>(&amp;mut self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#424-428' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the value of <code>name</code> on the table <code>t</code> pointed
to by <code>idx</code> as the value on the top of the stack.</p>

<p>Equivalent to <code>t[name] = v</code> where <code>t</code> is the value at
<code>idx</code> and <code>v</code> is the value at the top of the stack</p>
</div><h4 id='method.register_fns' class="method"><span id='register_fns.v' class='invisible'><code>pub fn <a href='#method.register_fns' class='fnname'>register_fns</a>(&amp;mut self, name: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;, fns: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../luajit/ffi/lauxlib/struct.luaL_Reg.html" title="struct luajit::ffi::lauxlib::luaL_Reg">luaL_Reg</a>&gt;)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#433-442' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Registers all functions in <code>fns</code> on the global table <code>name</code>. If name
is <code>None</code>, all functions are instead registered on the value on the top
of the stack.</p>
</div><h4 id='method.push_value' class="method"><span id='push_value.v' class='invisible'><code>pub fn <a href='#method.push_value' class='fnname'>push_value</a>(&amp;mut self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#445-449' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Copys the value at <code>idx</code> to the top of the stack</p>
</div><h4 id='method.push' class="method"><span id='push.v' class='invisible'><code>pub fn <a href='#method.push' class='fnname'>push</a>&lt;T&gt;(&amp;mut self, val: T) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../../luajit/types/trait.LuaValue.html" title="trait luajit::types::LuaValue">LuaValue</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#511-513' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Pushes a LuaValue to the lua stack.</p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">luajit</span>::<span class="ident">State</span>;
 
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">new</span>();
<span class="ident">state</span>.<span class="ident">push</span>(<span class="number">5</span>);
<span class="ident">state</span>.<span class="ident">push</span>(<span class="string">&quot;Hello world!&quot;</span>);</pre>

<p>Can also be used with structs that implement <code>LuaObject</code></p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span> <span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">luajit</span>;
 
<span class="kw">use</span> <span class="ident">luajit</span>::{<span class="ident">State</span>, <span class="ident">LuaObject</span>, <span class="ident">c_int</span>};
<span class="kw">use</span> <span class="ident">luajit</span>::<span class="ident">ffi</span>::<span class="ident">luaL_Reg</span>;
 
<span class="kw">struct</span> <span class="ident">Point2D</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="ident">i32</span>,
}
 
<span class="kw">impl</span> <span class="ident">LuaObject</span> <span class="kw">for</span> <span class="ident">Point2D</span> {
    <span class="kw">fn</span> <span class="ident">name</span>() <span class="op">-&gt;</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i8</span> {
        <span class="macro">c_str</span><span class="macro">!</span>(<span class="string">&quot;Point2D&quot;</span>)
    }
 
    <span class="kw">fn</span> <span class="ident">lua_fns</span>() <span class="op">-&gt;</span> <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">luaL_Reg</span><span class="op">&gt;</span> {
        <span class="macro">vec</span><span class="macro">!</span>(<span class="macro">lua_method</span><span class="macro">!</span>(<span class="string">&quot;add&quot;</span>, <span class="ident">Point2D</span>, <span class="ident">Point2D</span>::<span class="ident">add</span>))
    }
}
 
<span class="kw">impl</span> <span class="ident">Point2D</span> {
    <span class="kw">fn</span> <span class="ident">add</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">state</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">State</span>) <span class="op">-&gt;</span> <span class="ident">c_int</span> {
        <span class="ident">state</span>.<span class="ident">push</span>(<span class="self">self</span>.<span class="ident">x</span> <span class="op">+</span> <span class="self">self</span>.<span class="ident">y</span>);
 
        <span class="number">1</span>
    }
 
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-&gt;</span> <span class="ident">Point2D</span> {
        <span class="ident">Point2D</span> {
            <span class="ident">x</span>: <span class="number">0</span>,
            <span class="ident">y</span>: <span class="number">0</span>,
        }
    }
}
 
 
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">new</span>();
    <span class="ident">state</span>.<span class="ident">open_libs</span>();
    <span class="ident">state</span>.<span class="ident">push</span>(<span class="ident">Point2D</span>::<span class="ident">new</span>());
    <span class="ident">state</span>.<span class="ident">set_global</span>(<span class="string">&quot;point&quot;</span>);
    <span class="kw">let</span> <span class="ident">res</span> <span class="op">=</span> <span class="ident">state</span>.<span class="ident">do_string</span>(<span class="string">r#&quot;print(point:add())&quot;#</span>);
    <span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">res</span>, <span class="ident">luajit</span>::<span class="ident">ThreadStatus</span>::<span class="prelude-val">Ok</span>);
}</pre>
</div><h4 id='method.push_nil' class="method"><span id='push_nil.v' class='invisible'><code>pub fn <a href='#method.push_nil' class='fnname'>push_nil</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#516-520' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Push a new nil value onto the Lua stack.</p>
</div><h4 id='method.get_global' class="method"><span id='get_global.v' class='invisible'><code>pub fn <a href='#method.get_global' class='fnname'>get_global</a>(&amp;mut self, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#524-528' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Gets a value from the globals object and pushes it to the 
top of the stack.</p>
</div><h4 id='method.get_field' class="method"><span id='get_field.v' class='invisible'><code>pub fn <a href='#method.get_field' class='fnname'>get_field</a>(&amp;mut self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#532-536' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Gets a value <code>name</code> from the table on the stack at <code>idx</code> and
and pushes the fetched value to the top of the stack.</p>
</div><h4 id='method.new_table' class="method"><span id='new_table.v' class='invisible'><code>pub fn <a href='#method.new_table' class='fnname'>new_table</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#539-543' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Creates a new table and pushes it to the top of the stack</p>
</div><h4 id='method.new_raw_userdata' class="method"><span id='new_raw_userdata.v' class='invisible'><code>pub fn <a href='#method.new_raw_userdata' class='fnname'>new_raw_userdata</a>(&amp;mut self, sz: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="enum" href="../../libc/enum.c_void.html" title="enum libc::c_void">c_void</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#547-551' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Allocates a new Lua userdata block, and returns the pointer
to it. The returned pointer is owned by the Lua state.</p>
</div><h4 id='method.new_userdata' class="method"><span id='new_userdata.v' class='invisible'><code>pub fn <a href='#method.new_userdata' class='fnname'>new_userdata</a>&lt;T&gt;(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut T</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#608-610' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Allocates a new Lua userdata block of size <code>sizeof(T)</code> for
use to store Rust objects on the Lua stack. The returned
pointer is owned by the Lua state.</p>

<h1 id='examples-3' class='section-header'><a href='#examples-3'>Examples</a></h1>
<p>Useful for pushing an arbitrary struct to the Lua stack</p>

<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">luajit</span>;
 
<span class="kw">use</span> <span class="ident">luajit</span>::<span class="ident">State</span>;
 
<span class="kw">struct</span> <span class="ident">Point2D</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="ident">i32</span>,
}
 
<span class="kw">impl</span> <span class="ident">Point2D</span> {
    <span class="kw">fn</span> <span class="ident">add</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-&gt;</span> <span class="ident">i32</span> {
        <span class="self">self</span>.<span class="ident">x</span> <span class="op">+</span> <span class="self">self</span>.<span class="ident">y</span>
    }
     
    <span class="kw">fn</span> <span class="ident">set_x</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">x</span>: <span class="ident">i32</span>) {
        <span class="self">self</span>.<span class="ident">x</span> <span class="op">=</span> <span class="ident">x</span>;
    }
 
    <span class="kw">fn</span> <span class="ident">set_y</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">y</span>: <span class="ident">i32</span>) {
        <span class="self">self</span>.<span class="ident">y</span> <span class="op">=</span> <span class="ident">y</span>;
    }
 
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-&gt;</span> <span class="ident">Point2D</span> {
        <span class="ident">Point2D</span> {
            <span class="ident">x</span>: <span class="number">0</span>,
            <span class="ident">y</span>: <span class="number">0</span>,
        }
    }
}
 
 
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">state</span> <span class="op">=</span> <span class="ident">State</span>::<span class="ident">new</span>();
    <span class="ident">state</span>.<span class="ident">open_libs</span>();
    <span class="kw">unsafe</span> {
        <span class="kw-2">*</span><span class="ident">state</span>.<span class="ident">new_userdata</span>() <span class="op">=</span> <span class="ident">Point2D</span>::<span class="ident">new</span>();
    }
 
    <span class="kw">let</span> <span class="ident">point</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">Point2D</span> <span class="op">=</span> <span class="kw">unsafe</span> { <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw-2">*</span><span class="ident">state</span>.<span class="ident">to_userdata</span>(<span class="op">-</span><span class="number">1</span>).<span class="ident">unwrap</span>() };
     
    <span class="ident">point</span>.<span class="ident">set_x</span>(<span class="number">2</span>);
    <span class="ident">point</span>.<span class="ident">set_y</span>(<span class="number">4</span>);
 
    <span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">point</span>.<span class="ident">add</span>(), <span class="number">6</span>);
}</pre>
</div><h4 id='method.register_struct' class="method"><span id='register_struct.v' class='invisible'><code>pub fn <a href='#method.register_struct' class='fnname'>register_struct</a>&lt;T&gt;(&amp;mut self) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../../luajit/types/trait.LuaObject.html" title="trait luajit::types::LuaObject">LuaObject</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#614-626' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Registers all of the methods for LuaObject <code>T</code> as a global metatable
with name <code>struct_type</code> and leaves it on the top of the stack.</p>
</div><h4 id='method.load_file' class="method"><span id='load_file.v' class='invisible'><code>pub fn <a href='#method.load_file' class='fnname'>load_file</a>(&amp;mut self, path: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="enum" href="../../luajit/state/enum.ThreadStatus.html" title="enum luajit::state::ThreadStatus">ThreadStatus</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#646-663' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Maps to <code>luaL_loadfile</code>, this method validates that the file exists
before passing it into the Lua C API.</p>
</div><h4 id='method.do_file' class="method"><span id='do_file.v' class='invisible'><code>pub fn <a href='#method.do_file' class='fnname'>do_file</a>(&amp;mut self, path: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="enum" href="../../luajit/state/enum.ThreadStatus.html" title="enum luajit::state::ThreadStatus">ThreadStatus</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#667-671' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Equivalent of <code>luaL_dofile</code>, loads a file and then immediately executes
it with <code>pcall</code>, returning the result.</p>
</div></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
        <h3 id='impl-Drop' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="../../luajit/state/struct.State.html" title="struct luajit::state::State">State</a></code><a href='#impl-Drop' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#674-682' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.drop' class="method"><span id='drop.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop' class='fnname'>drop</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/luajit/state.rs.html#675-681' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Executes the destructor for this type. <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "luajit";
    </script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>